<!DOCTYPE html>
<html>
<style>
    .column {
        float: left;
        width: 50%;
        padding: 10px;
    }
</style>
<body>
<h1>Database Customer primtiv interface</h1>
<div class="column">
<button onclick="myFunction()" >
    Display all entries
</button>    
<pre id="json"></pre>
</div>
<div class="column">
<h2>
    Add new entry
</h2>
<form class="form">
    <input name="Vorname" type="text" placeholder="Vorname">
    <Input name="Nachname" type="text" placeholder="Nachname">

    <button type="submit">Add to Database</button>
</form>
</div>

  <script>
    function myFunction() {
        
        function getData(url, cb) {
        fetch(url)
          .then(response => response.json())
          .then(result => cb(result));
        }

        getData("http://40.115.21.0:8080/customer/", (data) => document.getElementById("json").innerHTML = JSON.stringify(data, undefined, 2));     
    }

    const formADD = document.querySelector('.form');

    formADD.addEventListener('submit', event => {
        event.preventDefault();
        const formData = new FormData(formADD);
        const data = Object.fromEntries(formData);
        fetch("http://40.115.21.0:8080/customer/id", {
          method: 'POST',
          headers: {
            'Accept' : 'application/json',
            'Content-Type': 'application/json'
          },
          body: JSON.stringify(data)  
        })
    })

  </script>
</body>

</html>