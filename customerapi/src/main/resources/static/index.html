<!DOCTYPE html>
<html>
<body>
<h1>Database Customer primtiv interface</h1>
<button onclick="myFunction()" >
    Display all entries
</button>    
<h2>
    Add new entry
</h2>
<form class="form">
    <input name="Vorname" type="text" placeholder="Voname">
    <Input name="Nachname" type="text" placeholder="Nachname">

    <button type="submit">Add to Database</button>
</form>


  <script>
    function myFunction() {
        
        function getData(url, cb) {
        fetch(url)
          .then(response => response.json())
          .then(result => cb(result));
        }

        getData("http://40.115.21.0:8080/customer/", (data) => document.getElementById("json").innerHTML = JSON.stringify(data, undefined, 2));     
    }

    const formADD = document.querySelector('.form');

    formADD.addEventListener('submit', event => {
        event.preventDefault();
        const formData = new FormData(formADD);
        const data = new URLSearchParams(formData);

        fetch("http://40.115.21.0:8080/customer/id", {
          method: 'POST',
          headers: {
            'Content-Type': 'application/json'
          },
          body: data  
        })
    })

  </script>
  <pre id="json"></pre>
</body>

</html>